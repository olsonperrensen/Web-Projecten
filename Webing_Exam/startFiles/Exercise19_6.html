<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Exercise 19.6</title>
    <link href="Style_Exercise19_6.css" rel="stylesheet" />
    <script>
      let slideshow, images;
      let counter = 0;
      let x = 0;
      let _booleanSlideshow = false;
      var _cycle, _barCycle;
      let CreateTheElement1, CreateTheElement2;

      function btnchange() {
        slideshow = document.getElementById(`slideshow`);
        images = [
          `/startFiles/images/slideshow/slideshow1.png`,
          '/startFiles/images/slideshow/slideshow2.png',
          '/startFiles/images/slideshow/slideshow3.png',
          '/startFiles/images/slideshow/slideshow4.png',
        ];
        //for (let i in images) {
        slideshow.src = images[counter];
        counter++;
        if (counter >= images.length) {
          counter = 0;
        }
        //}
        CreateTheElement1.style.visibility = `visible`;
      }
      function barGrow() {
        CreateTheElement2.style.width = `${x}px`;
        x++;
        if (x > window.innerWidth - 100) {
          x = `0`;
        }
      }

      function cycle() {
        _cycle = setInterval(btnchange, 1000);
      }
      function barCycle() {
        _barCycle = setInterval(barGrow, 1);
      }

      function toggleCycle() {
        _booleanSlideshow = !_booleanSlideshow;
        if (_booleanSlideshow) {
          cycle();
          barCycle();
        } else {
          clearInterval(_cycle);
          clearInterval(_barCycle);
        }
      }
      function example() {
        CreateTheElement1 = document.createElement(`img`);
        CreateTheElement1.src = `/startFiles/images/slideshow/loading.gif`;
        document.getElementById(`button`).appendChild(CreateTheElement1); // CONNECT EVERYTHING TO PLACEHOLDER
        CreateTheElement1.style.visibility = `hidden`;

        CreateTheElement2 = document.createElement(`div`);
        let CreateTheTextInsideTheElement = document.createTextNode(`.`);
        CreateTheElement2.appendChild(CreateTheTextInsideTheElement);
        document.getElementById(`button`).insertBefore(CreateTheElement2); // CONNECT EVERYTHING TO PLACEHOLDER
        CreateTheElement2.style.backgroundColor = `orange`;
        CreateTheElement2.style.width = `20px`;
      }
    </script>
  </head>
  <body onload="example()">
    <div id="portfolio">
      <img
        src="images/slideshow/slideshow1.png"
        id="slideshow"
        alt="slideshow"
      />
    </div>

    <div id="button">
      <a href="#" id="startcycle">
        <img
          id="btnCycle"
          onclick="toggleCycle()"
          src="images/slideshow/cyclebutton.png"
          alt="button"
        />
      </a>
    </div>
  </body>
</html>
